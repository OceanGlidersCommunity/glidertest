

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>glidertest API &mdash; glidertest v0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2fea6348"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Glidertest demo" href="demo-output.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            glidertest
              <img src="_static/glider.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demo-output.html">Glidertest demo</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">glidertest</span> <span class="pre">API</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.calc_w_meas"><code class="docutils literal notranslate"><span class="pre">calc_w_meas()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.calc_w_sw"><code class="docutils literal notranslate"><span class="pre">calc_w_sw()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.check_monotony"><code class="docutils literal notranslate"><span class="pre">check_monotony()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.compute_daynight_avg"><code class="docutils literal notranslate"><span class="pre">compute_daynight_avg()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.quant_binavg"><code class="docutils literal notranslate"><span class="pre">quant_binavg()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.tools.quant_updown_bias"><code class="docutils literal notranslate"><span class="pre">quant_updown_bias()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#glidertest.fetchers.load_sample_dataset"><code class="docutils literal notranslate"><span class="pre">load_sample_dataset()</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">glidertest</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">glidertest</span> <span class="pre">API</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/glidertest.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-glidertest.tools">
<span id="glidertest-api"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">glidertest</span> <span class="pre">API</span></code><a class="headerlink" href="#module-glidertest.tools" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.calc_w_meas">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">calc_w_meas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#calc_w_meas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.calc_w_meas" title="Link to this definition"></a></dt>
<dd><p>Calculate the vertical velocity of a glider using changes in pressure with time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>xarray.Dataset</strong><strong>)</strong> (<em>ds</em>)</p></li>
<li><p><strong>(</strong><strong>array-like</strong><strong>)</strong> (<em>- TIME</em>)</p></li>
<li><p><strong>(</strong><strong>array-like</strong><strong>)</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ds (xarray.Dataset)</strong> (<em>Containing the new variable</em>)</p></li>
<li><p><strong>- GLIDER_VERT_VELO_DZDT (array-like)</strong> (<em>with vertical velocities calculated from dz/dt</em>)</p></li>
<li><p><em>Original author</em></p></li>
<li><p><em>—————-</em></p></li>
<li><p><em>Eleanor Frajka-Williams</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.calc_w_sw">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">calc_w_sw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#calc_w_sw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.calc_w_sw" title="Link to this definition"></a></dt>
<dd><p>Calculate the vertical seawater velocity and add it to the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>xarray.Dataset</strong><strong>)</strong> (<em>ds</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ds (xarray.Dataset)</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataset with the new variable ‘VERT_SW_SPEED’, which is the inferred vertical seawater velocity.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This could be bundled with calc_glider_w_from_depth, but keeping them separate allows for some extra testing/flexibility for the user.</p>
<p>Eleanor Frajka-Williams</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.check_monotony">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">check_monotony</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">da</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#check_monotony"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.check_monotony" title="Link to this definition"></a></dt>
<dd><p>This function check weather the selected variable over the mission is monotonically increasing or not. This is developed in particular for profile number.
If the profile number is not monotonically increasing, this may mean that whatever function was used to assign the profile number may have misassigned at some points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>da</strong> (<em>xarray.DataArray on OG1 format. Data should not be gridded.</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>It will print a sentence stating whether data is</em></p></li>
<li><p><em>Original author</em></p></li>
<li><p><em>—————-</em></p></li>
<li><p><em>Chiara Monforte</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.compute_daynight_avg">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">compute_daynight_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sel_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CHLA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_prof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_prof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#compute_daynight_avg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.compute_daynight_avg" title="Link to this definition"></a></dt>
<dd><p>This function computes night and day averages for a selected variable over a specific period of time or a specific series of dives
Data in divided into day and night using the sunset and sunrise time as described in the above function sunset_sunrise from GliderTools
:param ds: Data should not be gridded.
:type ds: xarray on OG1 format containing at least time, depth, latitude, longitude and the selected variable.
:param sel_var:
:type sel_var: variable to use to compute the day night averages
:param start_time: we recommend selecting small section of few days to a few weeks. Defaults to the central week of the deployment
:type start_time: Start date of the data selection. As missions can be long and can make it hard to visualise NPQ effect,
:param end_time: we recommend selecting small section of few days to a few weeks. Defaults to the central week of the deployment
:type end_time: End date of the data selection. As missions can be long and can make it hard to visualise NPQ effect,
:param start_prof: or the central week of the deployment.</p>
<blockquote>
<div><p>It is important to have a large enough number of dives to have some day and night data otherwise the function will not run</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_prof</strong> (<em>End profile</em><em> of </em><em>the data selection. If no profile is specified</em><em>, </em><em>the specified time selection will be used</em>) – or the central week of the deployment.</p></li>
<li><p><strong>run</strong> (<em>It is important to have a large enough number</em><em> of </em><em>dives to have some day and night data otherwise the function will not</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>day_av</strong> (<em>pandas.Dataframe</em>) –</p>
<dl class="simple">
<dt>A dataframe with the day averages of the selected variable with the following columns:</dt><dd><p>batch: Number representing the grouping for each day. This number can represent the number of the day in chronological order
depth: Depth values for the average
dat: Average value for the selected variable
day: Actual date for the batch</p>
</dd>
</dl>
</li>
<li><p><strong>night_av</strong> (<em>pandas.Dataframe</em>) –</p>
<dl class="simple">
<dt>A dataframe with the night averages of the selected variable with the following columns:</dt><dd><p>batch: Number representing the grouping for each day. This number can represent the number of the day in chronological order
depth: Depth values for the average
dat: Average value for the selected variable
day: Actual date for the batch</p>
</dd>
</dl>
</li>
<li><p><em>Original author</em></p></li>
<li><p><em>—————-</em></p></li>
<li><p><em>Chiara Monforte</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.quant_binavg">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">quant_binavg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'VERT_CURR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#quant_binavg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.quant_binavg" title="Link to this definition"></a></dt>
<dd><p>Calculate the bin average of vertical velocities within specified depth ranges.
This function computes the bin average of all vertical velocities within depth ranges,
accounting for the uneven vertical spacing of seaglider data in depth (but regular in time).
It uses the pressure data to calculate depth and then averages the vertical velocities
within each depth bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>VERT_SW_SPEED</strong> (<em>- ds using the variables PRES and</em>)</p></li>
<li><p><strong>(</strong><strong>array-like</strong> (<em>- zgrid</em>)</p></li>
<li><p><strong>optional</strong><strong>)</strong> (<em>Interval for creating depth grid if zgrid is not provided.</em>)</p></li>
<li><p><strong>(</strong><strong>float</strong> (<em>- dz</em>)</p></li>
<li><p><strong>optional</strong><strong>)</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>- meanw (array-like)</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bin-averaged vertical velocities for each depth bin.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I know this is a non-sensical name.  We should re-name, but is based on advice from Ramsey Harcourt.</p>
<p>Eleanor Frajka-Williams</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="glidertest.tools.quant_updown_bias">
<span class="sig-prename descclassname"><span class="pre">glidertest.tools.</span></span><span class="sig-name descname"><span class="pre">quant_updown_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PSAL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/tools.html#quant_updown_bias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.tools.quant_updown_bias" title="Link to this definition"></a></dt>
<dd><p>This function computes up and downcast averages for a specific variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xarray on OG1 format containing at least time</em><em>, </em><em>depth</em><em>, </em><em>latitude</em><em>, </em><em>longitude and the selected variable.</em>) – Data should not be gridded.</p></li>
<li><p><strong>var</strong> (<em>Selected variable</em>)</p></li>
<li><p><strong>v_res</strong> (<em>Vertical resolution for the gridding</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<em>pandas dataframe containing dc (Dive - Climb average), cd (Climb - Dive average) and depth</em>)</p></li>
<li><p><em>Original author</em></p></li>
<li><p><em>—————-</em></p></li>
<li><p><em>Chiara Monforte</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-glidertest.fetchers">
<dt class="sig sig-object py" id="glidertest.fetchers.load_sample_dataset">
<span class="sig-prename descclassname"><span class="pre">glidertest.fetchers.</span></span><span class="sig-name descname"><span class="pre">load_sample_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sea045_20230530T0832_delayed.nc'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/glidertest/fetchers.html#load_sample_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#glidertest.fetchers.load_sample_dataset" title="Link to this definition"></a></dt>
<dd><p>Download sample datasets for use with glidertest</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_name</strong> (<em>str</em><em>, </em><em>optional</em>) – _description_. Defaults to “sea045_20230530T0832_delayed.nc”.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the requests dataset is not known, raises a value error</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Requested sample dataset</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="demo-output.html" class="btn btn-neutral float-left" title="Glidertest demo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Eleanor Frajka-Williams, Chiara Monforte, Callum Rollo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>